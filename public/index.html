<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Aus Emergency Map</title>
    <meta name="viewport" content="width=device-width" />
    <meta property="og:title" content="Aus Emergency Map" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://ausemergencymap.info" />
    <meta property="og:description" content="Fire and emergency information, Australia." />
    <!-- <meta property="og:image" content="" /> -->
    <link rel="stylesheet" href="./leaflet/leaflet.css" />
    <link rel="stylesheet" href="./leaflet.fullscreen/Control.FullScreen.css" />
    <link rel="stylesheet" href="./normalize/normalize.css">
    <link rel="stylesheet" href="./index.css">
  </head>
  <body>
    <div id="page">
      <div id="lmap" class="split"></div>
      <div id="panel" v-bind:class="showPanel ? 'split' : 'full'">
        <div class="toggle">
          <span style="font-size: 10px;" v-on:click.prevent="togglePanel()">MENU</span>
          <button class="button" v-on:click.prevent="togglePanel()" title="toggle menu">&#x21C6;</button>
          <div class="circle bg-blue" title="Items">{{ geoFeatures.length }}</div>
          <div class="circle bg-red" title="Resources">{{ totalResources }}</div>
        </div>
        <div class="inner">
          <h1>Aus Emergency</h1>
          <h2>Filters</h2>
          <div v-for="(items, filter) in filters" v-bind:key="filter">
            <h3>{{ filter }}</h3>
            <div v-for="item in Object.keys(items)" v-bind:key="filter + item" v-bind:style="counts[filter][item] == undefined ? 'color: #AAAAAA;' : ''">
              <label v-bind:for="filter + item" style="display: inline;">
                <input v-bind:id="filter + item" type="checkbox" v-model:value="items[item]" style="vertical-align: middle;" />
                {{ item }}
                <span class="badge bg-blue" v-if="counts[filter][item] != undefined">{{ counts[filter][item] }}</span>
              </label>
            </div>
          </div>
          <br/>
          <h2>List</h2>
          <p>
            <span class="badge bg-blue">{{ geoFeatures.length }}</span>
            Total Items
          </p>
          <p>
            <span class="badge bg-red">{{ totalResources }}</span>
            Total Resources
          </p>
          <div v-for="item in geoFeatures" v-bind:key="item.properties.id" v-on:click.prevent="selectFeature(item)" v-bind:class="'listItem ' + (item.properties.id == selected ? 'selected' : '')">
            <a v-bind:name="item.properties.id"></a>
            <h3>{{ item.properties.sourceTitle }}</h3>
            <p v-html="item.properties.location"></p>
            <p v-if="item.properties.resources">
              <span class="badge bg-red">{{ item.properties.resources }}</span> Resources
            </p>
          </div>
          <p v-if="geoFeatures.length == 0">No items.</p>
          <div>
            <h2>About This Page</h2>
            <p>This page is in no way officially affiliated with Vic Emergency.</p>
            <p><a href="https://github.com/reillybeacom/aus-emergency-map">Fork this on Github.</a></p>
            <p>Proudly built with open-source software:</p>
            <ul>
              <li>
                <a href="http://leafletjs.com/">Leaflet</a>
              </li>
              <li>
                <a href="https://www.openstreetmap.org/about">OpenStreetMap</a>
              </li>
              <li>
                <a href="https://vuejs.org/">Vue.js</a>
              </li>
              <li>
                <a href="https://www.mozilla.org/en-US/firefox/">Firefox</a>
              </li>
            </ul>
            <br/>
            <br/>
          </div>
        </div>
      </div>
    </div>
    <script src="./axios/axios.min.js"></script>
    <script src="./leaflet/leaflet.js"></script>
    <script src="./leaflet.fullscreen/Control.FullScreen.js"></script>
    <script src="./vue/vue.min.js"></script>
    <script src="./tokml/tokml.js"></script>
    <script src="./togpx/togpx.js"></script>
    <script src="./index.js"></script>
  </body>
</html>
